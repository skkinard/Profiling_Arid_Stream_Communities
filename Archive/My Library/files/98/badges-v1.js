"use strict";!function(){function e(e,t){var n=new XMLHttpRequest;n.open("GET",i.replace("{doi}",e),!0),n.onload=function(){t(200==n.status?n.responseText:!1)},n.send()}function t(e){var t=e.parentElement,n=t.getElementsByClassName("arrow")[0],o=t.getBoundingClientRect().left,a=window.innerWidth,l=o+250+60-a;e.style.left=l>0?-l+"px":0,n.style.display="block",e.style.display="block"}function n(e){var t=e.parentElement,n=t.getElementsByClassName("arrow")[0];n.style.display="none",e.style.display="none"}function o(){var e=document.querySelectorAll(u);Array.prototype.forEach.call(e,function(e){n(e)})}function a(a){var l=a.getAttribute("data-doi");e(l,function(e){if(e){a.innerHTML=e;var l=a.querySelectorAll(u);l=l.length?l[0]:!1,l&&(a.addEventListener("mouseenter",function(){o(),t(l)}),a.addEventListener("mouseleave",function(){n(l)}),a.addEventListener("focusin",function(){o(),t(l)}),a.addEventListener("focusout",function(){n(l)}))}})}function l(){var e=document.querySelectorAll(s);Array.prototype.forEach.call(e,a)}var r="https://publons.com",i=r+"/badge/{doi}",s=".publons-badge",u=".publons-badge-popup";"loading"!=document.readyState?l():document.addEventListener("DOMContentLoaded",l)}();